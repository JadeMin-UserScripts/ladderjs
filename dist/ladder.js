// src/index.ts
window.Ladder = class {
  listeners = {
    startHead: [],
    endHead: [],
    startBody: [],
    endBody: []
  };
  once(eventName, callback) {
    switch (eventName) {
      case "startHead" /* head */: {
        this.listeners.startHead.push(callback);
        break;
      }
      case "endHead" /* head */:
      case "startBody" /* body */: {
        this.listeners.startBody.push(callback);
        break;
      }
      case "endBody" /* body */: {
        this.listeners.endBody.push(callback);
        break;
      }
      default: {
        console.warn(`Ignoring invalid event: "${eventName}"`);
        break;
      }
    }
  }
  setup() {
    let headMO = new MutationObserver((event) => {
      document.head && (this.listeners.startHead.forEach((c) => c(event)), headMO.disconnect());
    }), bodyMO = new MutationObserver((event) => {
      document.body && (document.addEventListener("DOMContentLoaded", (_event) => this.listeners.endBody.forEach((c) => c(_event))), this.listeners.startBody.forEach((c) => c(event)), bodyMO.disconnect());
    });
    headMO.observe(document, {
      childList: !0,
      subtree: !0
    }), bodyMO.observe(document, {
      childList: !0,
      subtree: !0
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQge1xyXG5cdExpc3RlbmVycywgT25jZUNhbGxiYWNrLFxyXG5cdEV2ZW50cywgU3RhcnRFdmVudHMsIEVuZEV2ZW50cyxcclxufSBmcm9tIFwiLi90eXBlcy5qc1wiO1xyXG5cclxuXHJcbndpbmRvdy5MYWRkZXIgPSBjbGFzcyBMYWRkZXJKUyB7XHJcblx0cHJpdmF0ZSBsaXN0ZW5lcnM6IExpc3RlbmVycyA9IHtcclxuXHRcdHN0YXJ0SGVhZDogW10sXHJcblx0XHRlbmRIZWFkOiBbXSxcclxuXHRcdHN0YXJ0Qm9keTogW10sXHJcblx0XHRlbmRCb2R5OiBbXVxyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBvbmNlKGV2ZW50TmFtZTogRXZlbnRzLCBjYWxsYmFjazogT25jZUNhbGxiYWNrKTogdm9pZCB7XHJcblx0XHRzd2l0Y2goZXZlbnROYW1lKSB7XHJcblx0XHRcdGNhc2UgU3RhcnRFdmVudHMuaGVhZDoge1xyXG5cdFx0XHRcdHRoaXMubGlzdGVuZXJzLnN0YXJ0SGVhZC5wdXNoKGNhbGxiYWNrKTsgYnJlYWs7XHJcblx0XHRcdH07XHJcblx0XHRcdGNhc2UgRW5kRXZlbnRzLmhlYWQ6IHtcclxuXHRcdFx0XHQvL3RoaXMubGlzdGVuZXJzLmVuZEhlYWQucHVzaChjYWxsYmFjayk7IGJyZWFrO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRjYXNlIFN0YXJ0RXZlbnRzLmJvZHk6IHtcclxuXHRcdFx0XHR0aGlzLmxpc3RlbmVycy5zdGFydEJvZHkucHVzaChjYWxsYmFjayk7IGJyZWFrO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRjYXNlIEVuZEV2ZW50cy5ib2R5OiB7XHJcblx0XHRcdFx0dGhpcy5saXN0ZW5lcnMuZW5kQm9keS5wdXNoKGNhbGxiYWNrKTsgYnJlYWs7XHJcblx0XHRcdH07XHJcblx0XHRcdGRlZmF1bHQ6IHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oYElnbm9yaW5nIGludmFsaWQgZXZlbnQ6IFwiJHtldmVudE5hbWV9XCJgKTsgYnJlYWs7XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cdH07XHJcblx0cHVibGljIHNldHVwKCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgaGVhZE1POiBNdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGV2ZW50OiBNdXRhdGlvblJlY29yZFtdKSA9PiB7XHJcblx0XHRcdGlmKGRvY3VtZW50LmhlYWQpIHtcclxuXHRcdFx0XHQvL3RoaXMuI2xpc3RlbmVycy5vbmNlLmVuZEhlYWQuZm9yRWFjaChjPT4gYyhldmVudCkpO1xyXG5cdFx0XHRcdHRoaXMubGlzdGVuZXJzLnN0YXJ0SGVhZC5mb3JFYWNoKGM9PiBjKGV2ZW50KSk7XHJcblx0XHRcdFx0aGVhZE1PLmRpc2Nvbm5lY3QoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBib2R5TU86IE11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoZXZlbnQ6IE11dGF0aW9uUmVjb3JkW10pID0+IHtcclxuXHRcdFx0aWYoZG9jdW1lbnQuYm9keSkge1xyXG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIF9ldmVudD0+IHRoaXMubGlzdGVuZXJzLmVuZEJvZHkuZm9yRWFjaChjPT4gYyhfZXZlbnQpKSk7XHJcblxyXG5cdFx0XHRcdHRoaXMubGlzdGVuZXJzLnN0YXJ0Qm9keS5mb3JFYWNoKGM9PiBjKGV2ZW50KSk7XHJcblx0XHRcdFx0Ym9keU1PLmRpc2Nvbm5lY3QoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRoZWFkTU8ub2JzZXJ2ZShkb2N1bWVudCwge1xyXG5cdFx0XHRjaGlsZExpc3Q6IHRydWUsXHJcblx0XHRcdHN1YnRyZWU6IHRydWVcclxuXHRcdH0pO1xyXG5cdFx0Ym9keU1PLm9ic2VydmUoZG9jdW1lbnQsIHtcclxuXHRcdFx0Y2hpbGRMaXN0OiB0cnVlLFxyXG5cdFx0XHRzdWJ0cmVlOiB0cnVlXHJcblx0XHR9KTtcclxuXHR9O1xyXG59OyJdLAogICJtYXBwaW5ncyI6ICI7QUFNQSxPQUFPLFNBQVMsTUFBZTtBQUFBLEVBQ3RCLFlBQXVCO0FBQUEsSUFDOUIsV0FBVyxDQUFDO0FBQUEsSUFDWixTQUFTLENBQUM7QUFBQSxJQUNWLFdBQVcsQ0FBQztBQUFBLElBQ1osU0FBUyxDQUFDO0FBQUEsRUFDWDtBQUFBLEVBRU8sS0FBSyxXQUFtQixVQUE4QjtBQUM1RCxZQUFPLFdBQVc7QUFBQSxNQUNqQiw2QkFBdUI7QUFDdEIsYUFBSyxVQUFVLFVBQVUsS0FBSyxRQUFRO0FBQUc7QUFBQSxNQUMxQztBQUFBLE1BQ0E7QUFBQSxNQUdBLDZCQUF1QjtBQUN0QixhQUFLLFVBQVUsVUFBVSxLQUFLLFFBQVE7QUFBRztBQUFBLE1BQzFDO0FBQUEsTUFDQSwyQkFBcUI7QUFDcEIsYUFBSyxVQUFVLFFBQVEsS0FBSyxRQUFRO0FBQUc7QUFBQSxNQUN4QztBQUFBLE1BQ0EsU0FBUztBQUNSLGdCQUFRLEtBQUssNEJBQTRCLFlBQVk7QUFBRztBQUFBLE1BQ3pEO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUNPLFFBQWM7QUFDcEIsUUFBTSxTQUEyQixJQUFJLGlCQUFpQixDQUFDLFVBQTRCO0FBQ2xGLE1BQUcsU0FBUyxTQUVYLEtBQUssVUFBVSxVQUFVLFFBQVEsT0FBSSxFQUFFLEtBQUssQ0FBQyxHQUM3QyxPQUFPLFdBQVc7QUFBQSxJQUVwQixDQUFDLEdBQ0ssU0FBMkIsSUFBSSxpQkFBaUIsQ0FBQyxVQUE0QjtBQUNsRixNQUFHLFNBQVMsU0FDWCxTQUFTLGlCQUFpQixvQkFBb0IsWUFBUyxLQUFLLFVBQVUsUUFBUSxRQUFRLE9BQUksRUFBRSxNQUFNLENBQUMsQ0FBQyxHQUVwRyxLQUFLLFVBQVUsVUFBVSxRQUFRLE9BQUksRUFBRSxLQUFLLENBQUMsR0FDN0MsT0FBTyxXQUFXO0FBQUEsSUFFcEIsQ0FBQztBQUNELFdBQU8sUUFBUSxVQUFVO0FBQUEsTUFDeEIsV0FBVztBQUFBLE1BQ1gsU0FBUztBQUFBLElBQ1YsQ0FBQyxHQUNELE9BQU8sUUFBUSxVQUFVO0FBQUEsTUFDeEIsV0FBVztBQUFBLE1BQ1gsU0FBUztBQUFBLElBQ1YsQ0FBQztBQUFBLEVBQ0Y7QUFDRDsiLAogICJuYW1lcyI6IFtdCn0K
