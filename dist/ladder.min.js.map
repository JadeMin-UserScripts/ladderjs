{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["import {\r\n\tHTMLHeadBodyElement, StyleCreaterParams, HTMLStyleScriptElement,\r\n\tListeners,\r\n\tAllEvents, StartEvents, EndEvents,\r\n} from \"./types.js\";\r\n\r\n\r\nconst exports = (() => {\r\n\tconst Liner = class Liner {\r\n\t\t#targetElement: HTMLHeadBodyElement;\r\n\t\tpublic constructor(private defaultElement: HTMLHeadBodyElement) {\r\n\t\t\tthis.#targetElement = defaultElement;\r\n\t\t};\r\n\r\n\t\t#createElement(tagName: string): HTMLStyleScriptElement {\r\n\t\t\tconst element = document.createElement(tagName) as HTMLStyleScriptElement;\r\n\t\t\treturn Object.assign(element, {\r\n\t\t\t\tappend: ()=> this.#targetElement.appendChild(element),\r\n\t\t\t});\r\n\t\t};\r\n\t\tpublic createStyle(options: StyleCreaterParams[]): HTMLElement {\r\n\t\t\tconst styleElement = this.#createElement('style');\r\n\t\t\tconst result: string[] = [];\r\n\t\t\toptions.forEach(option => {\r\n\t\t\t\tconst style = Object.entries(option.style);\r\n\t\t\t\tresult.push(...style.map(([prop, value])=> `${option.selector}{${prop}:${value}!important;}`));\r\n\t\t\t});\r\n\t\t\tstyleElement.innerHTML = result.join('\\n');\r\n\r\n\t\t\treturn styleElement;\r\n\t\t};\r\n\t\tpublic createScript(functions: Function[]): HTMLElement {\r\n\t\t\tconst scriptElement = this.#createElement('script');\r\n\t\t\tconst result: string[] = [];\r\n\t\t\tresult.push(...functions.map(toString));\r\n\t\t\tscriptElement.innerHTML = result.join('\\n');\r\n\r\n\t\t\treturn scriptElement;\r\n\t\t};\r\n\t};\r\n\tconst LadderJS = class LadderJS {\r\n\t\t#listeners: Listeners = {\r\n\t\t\theadStart: [],\r\n\t\t\theadEnd: [],\r\n\t\t\tbodyStart: [],\r\n\t\t\tbodyEnd: []\r\n\t\t};\r\n\t\r\n\t\tpublic once(eventName: AllEvents, callback: Function): void {\r\n\t\t\tswitch(eventName) {\r\n\t\t\t\tcase StartEvents.HEAD: {\r\n\t\t\t\t\tthis.#listeners.headStart.push(callback); break;\r\n\t\t\t\t};\r\n\t\t\t\t/*case EndEvents.HEAD: {\r\n\t\t\t\t\tthis.listeners.headEnd.push(callback); break;\r\n\t\t\t\t};*/\r\n\t\t\t\tcase StartEvents.BODY: {\r\n\t\t\t\t\tthis.#listeners.bodyStart.push(callback); break;\r\n\t\t\t\t};\r\n\t\t\t\tcase EndEvents.BODY: {\r\n\t\t\t\t\tthis.#listeners.bodyEnd.push(callback); break;\r\n\t\t\t\t};\r\n\t\t\t\tdefault: {\r\n\t\t\t\t\tconsole.warn(`Ignoring invalid event: \"${eventName}\"`); break;\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t};\r\n\t\tpublic attach(): void {\r\n\t\t\tconst headMO = (): void => {\r\n\t\t\t\tconst observer = new MutationObserver(() => {\r\n\t\t\t\t\tif(document.head) {\r\n\t\t\t\t\t\tconst liner = new Liner(document.head);\r\n\t\r\n\t\t\t\t\t\t//this.#listeners.headEnd.forEach(call=> call(liner));\r\n\t\t\t\t\t\tthis.#listeners.headStart.forEach(call=> call(liner));\r\n\t\t\t\t\t\tobserver.disconnect();\r\n\t\t\t\t\t\tbodyMO();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tobserver.observe(document, {\r\n\t\t\t\t\tchildList: true,\r\n\t\t\t\t\tsubtree: true\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\tconst bodyMO = (): void => {\r\n\t\t\t\tconst observer = new MutationObserver(() => {\r\n\t\t\t\t\tif(document.body) {\r\n\t\t\t\t\t\tconst liner = new Liner(document.body);\r\n\t\r\n\t\t\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", ()=> this.#listeners.bodyEnd.forEach(call=> call(liner)));\r\n\t\t\t\t\t\tthis.#listeners.bodyStart.forEach(call=> call(liner));\r\n\t\t\t\t\t\tobserver.disconnect();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tobserver.observe(document, {\r\n\t\t\t\t\tchildList: true,\r\n\t\t\t\t\tsubtree: true\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\r\n\t\t\treturn headMO();\r\n\t\t};\r\n\t};\r\n\r\n\treturn {\r\n\t\tLiner,\r\n\t\tLadderJS,\r\n\t};\r\n})();\r\n\r\nglobalThis.LadderJS = exports.LadderJS;\r\nglobalThis.ladder = new globalThis.LadderJS();"],
  "mappings": "AAOA,IAAMA,GAAW,IAAM,CACtB,IAAMC,EAAQ,KAAY,CAElB,YAAoBC,EAAqC,CAArC,oBAAAA,EAC1B,KAAKC,GAAiBD,CACvB,CAHAC,GAKAC,GAAeC,EAAyC,CACvD,IAAMC,EAAU,SAAS,cAAcD,CAAO,EAC9C,OAAO,OAAO,OAAOC,EAAS,CAC7B,OAAQ,IAAK,KAAKH,GAAe,YAAYG,CAAO,CACrD,CAAC,CACF,CACO,YAAYC,EAA4C,CAC9D,IAAMC,EAAe,KAAKJ,GAAe,OAAO,EAC1CK,EAAmB,CAAC,EAC1B,OAAAF,EAAQ,QAAQG,GAAU,CACzB,IAAMC,EAAQ,OAAO,QAAQD,EAAO,KAAK,EACzCD,EAAO,KAAK,GAAGE,EAAM,IAAI,CAAC,CAACC,EAAMC,CAAK,IAAK,GAAGH,EAAO,YAAYE,KAAQC,eAAmB,CAAC,CAC9F,CAAC,EACDL,EAAa,UAAYC,EAAO,KAAK;AAAA,CAAI,EAElCD,CACR,CACO,aAAaM,EAAoC,CACvD,IAAMC,EAAgB,KAAKX,GAAe,QAAQ,EAC5CK,EAAmB,CAAC,EAC1B,OAAAA,EAAO,KAAK,GAAGK,EAAU,IAAI,QAAQ,CAAC,EACtCC,EAAc,UAAYN,EAAO,KAAK;AAAA,CAAI,EAEnCM,CACR,CACD,EAiEA,MAAO,CACN,MAAAd,EACA,SAlEgB,KAAe,CAC/Be,GAAwB,CACvB,UAAW,CAAC,EACZ,QAAS,CAAC,EACV,UAAW,CAAC,EACZ,QAAS,CAAC,CACX,EAEO,KAAKC,EAAsBC,EAA0B,CAC3D,OAAOD,EAAW,CACjB,gBAAuB,CACtB,KAAKD,GAAW,UAAU,KAAKE,CAAQ,EAAG,KAC3C,CAIA,gBAAuB,CACtB,KAAKF,GAAW,UAAU,KAAKE,CAAQ,EAAG,KAC3C,CACA,cAAqB,CACpB,KAAKF,GAAW,QAAQ,KAAKE,CAAQ,EAAG,KACzC,CACA,QAAS,CACR,QAAQ,KAAK,4BAA4BD,IAAY,EAAG,KACzD,CACD,CACD,CACO,QAAe,CACrB,IAAME,EAAS,IAAY,CAC1B,IAAMC,EAAW,IAAI,iBAAiB,IAAM,CAC3C,GAAG,SAAS,KAAM,CACjB,IAAMC,EAAQ,IAAIpB,EAAM,SAAS,IAAI,EAGrC,KAAKe,GAAW,UAAU,QAAQM,GAAOA,EAAKD,CAAK,CAAC,EACpDD,EAAS,WAAW,EACpBG,EAAO,EAET,CAAC,EACDH,EAAS,QAAQ,SAAU,CAC1B,UAAW,GACX,QAAS,EACV,CAAC,CACF,EACMG,EAAS,IAAY,CAC1B,IAAMH,EAAW,IAAI,iBAAiB,IAAM,CAC3C,GAAG,SAAS,KAAM,CACjB,IAAMC,EAAQ,IAAIpB,EAAM,SAAS,IAAI,EAErC,SAAS,iBAAiB,mBAAoB,IAAK,KAAKe,GAAW,QAAQ,QAAQM,GAAOA,EAAKD,CAAK,CAAC,CAAC,EACtG,KAAKL,GAAW,UAAU,QAAQM,GAAOA,EAAKD,CAAK,CAAC,EACpDD,EAAS,WAAW,EAEtB,CAAC,EACDA,EAAS,QAAQ,SAAU,CAC1B,UAAW,GACX,QAAS,EACV,CAAC,CACF,EAEA,OAAOD,EAAO,CACf,CACD,CAKA,CACD,GAAG,EAEH,WAAW,SAAWnB,EAAQ,SAC9B,WAAW,OAAS,IAAI,WAAW",
  "names": ["exports", "Liner", "defaultElement", "#targetElement", "#createElement", "tagName", "element", "options", "styleElement", "result", "option", "style", "prop", "value", "functions", "scriptElement", "#listeners", "eventName", "callback", "headMO", "observer", "liner", "call", "bodyMO"]
}
