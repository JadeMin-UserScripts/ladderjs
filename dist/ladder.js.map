{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["import {\r\n\tHTMLHeadBodyElement, StyleCreaterParams, HTMLStyleScriptElement,\r\n\tListeners,\r\n\tAllEvents, StartEvents, EndEvents,\r\n} from \"./types.js\";\r\n\r\n\r\nconst exports = (() => {\r\n\tconst Liner = class Liner {\r\n\t\t#targetElement: HTMLHeadBodyElement;\r\n\t\tpublic constructor(private defaultElement: HTMLHeadBodyElement) {\r\n\t\t\tthis.#targetElement = defaultElement;\r\n\t\t};\r\n\r\n\t\t#createElement(tagName: string): HTMLStyleScriptElement {\r\n\t\t\tconst element = document.createElement(tagName) as HTMLStyleScriptElement;\r\n\t\t\treturn Object.assign(element, {\r\n\t\t\t\tappend: ()=> this.#targetElement.appendChild(element),\r\n\t\t\t});\r\n\t\t};\r\n\t\tpublic createStyle(options: StyleCreaterParams[]): HTMLElement {\r\n\t\t\tconst styleElement = this.#createElement('style');\r\n\t\t\tconst result: string[] = [];\r\n\t\t\toptions.forEach(option => {\r\n\t\t\t\tconst style = Object.entries(option.style);\r\n\t\t\t\tresult.push(...style.map(([prop, value])=> `${option.selector}{${prop}:${value}!important;}`));\r\n\t\t\t});\r\n\t\t\tstyleElement.innerHTML = result.join('\\n');\r\n\r\n\t\t\treturn styleElement;\r\n\t\t};\r\n\t\tpublic createScript(functions: Function[]): HTMLElement {\r\n\t\t\tconst scriptElement = this.#createElement('script');\r\n\t\t\tconst result: string[] = [];\r\n\t\t\tresult.push(...functions.map(toString));\r\n\t\t\tscriptElement.innerHTML = result.join('\\n');\r\n\r\n\t\t\treturn scriptElement;\r\n\t\t};\r\n\t};\r\n\tconst LadderJS = class LadderJS {\r\n\t\t#listeners: Listeners = {\r\n\t\t\theadStart: [],\r\n\t\t\theadEnd: [],\r\n\t\t\tbodyStart: [],\r\n\t\t\tbodyEnd: []\r\n\t\t};\r\n\t\r\n\t\tpublic once(eventName: AllEvents, callback: Function): void {\r\n\t\t\tswitch(eventName) {\r\n\t\t\t\tcase StartEvents.HEAD: {\r\n\t\t\t\t\tthis.#listeners.headStart.push(callback); break;\r\n\t\t\t\t};\r\n\t\t\t\t/*case EndEvents.HEAD: {\r\n\t\t\t\t\tthis.listeners.headEnd.push(callback); break;\r\n\t\t\t\t};*/\r\n\t\t\t\tcase StartEvents.BODY: {\r\n\t\t\t\t\tthis.#listeners.bodyStart.push(callback); break;\r\n\t\t\t\t};\r\n\t\t\t\tcase EndEvents.BODY: {\r\n\t\t\t\t\tthis.#listeners.bodyEnd.push(callback); break;\r\n\t\t\t\t};\r\n\t\t\t\tdefault: {\r\n\t\t\t\t\tconsole.warn(`Ignoring invalid event: \"${eventName}\"`); break;\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t};\r\n\t\tpublic attach(): void {\r\n\t\t\tconst headMO = (): void => {\r\n\t\t\t\tconst observer = new MutationObserver(() => {\r\n\t\t\t\t\tif(document.head) {\r\n\t\t\t\t\t\tconst liner = new Liner(document.head);\r\n\t\r\n\t\t\t\t\t\t//this.#listeners.headEnd.forEach(call=> call(liner));\r\n\t\t\t\t\t\tthis.#listeners.headStart.forEach(call=> call(liner));\r\n\t\t\t\t\t\tobserver.disconnect();\r\n\t\t\t\t\t\tbodyMO();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tobserver.observe(document, {\r\n\t\t\t\t\tchildList: true,\r\n\t\t\t\t\tsubtree: true\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\tconst bodyMO = (): void => {\r\n\t\t\t\tconst observer = new MutationObserver(() => {\r\n\t\t\t\t\tif(document.body) {\r\n\t\t\t\t\t\tconst liner = new Liner(document.body);\r\n\t\r\n\t\t\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", ()=> this.#listeners.bodyEnd.forEach(call=> call(liner)));\r\n\t\t\t\t\t\tthis.#listeners.bodyStart.forEach(call=> call(liner));\r\n\t\t\t\t\t\tobserver.disconnect();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tobserver.observe(document, {\r\n\t\t\t\t\tchildList: true,\r\n\t\t\t\t\tsubtree: true\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\r\n\t\t\treturn headMO();\r\n\t\t};\r\n\t};\r\n\r\n\treturn {\r\n\t\tLiner,\r\n\t\tLadderJS,\r\n\t};\r\n})();\r\n\r\nglobalThis.LadderJS = exports.LadderJS;\r\nglobalThis.ladder = new globalThis.LadderJS();"],
  "mappings": ";AAOA,IAAM,WAAW,MAAM;AACtB,MAAM,QAAQ,MAAY;AAAA,IAElB,YAAoB,gBAAqC;AAArC;AAC1B,WAAK,iBAAiB;AAAA,IACvB;AAAA,IAHA;AAAA,IAKA,eAAe,SAAyC;AACvD,UAAM,UAAU,SAAS,cAAc,OAAO;AAC9C,aAAO,OAAO,OAAO,SAAS;AAAA,QAC7B,QAAQ,MAAK,KAAK,eAAe,YAAY,OAAO;AAAA,MACrD,CAAC;AAAA,IACF;AAAA,IACO,YAAY,SAA4C;AAC9D,UAAM,eAAe,KAAK,eAAe,OAAO,GAC1C,SAAmB,CAAC;AAC1B,qBAAQ,QAAQ,YAAU;AACzB,YAAM,QAAQ,OAAO,QAAQ,OAAO,KAAK;AACzC,eAAO,KAAK,GAAG,MAAM,IAAI,CAAC,CAAC,MAAM,KAAK,MAAK,GAAG,OAAO,YAAY,QAAQ,mBAAmB,CAAC;AAAA,MAC9F,CAAC,GACD,aAAa,YAAY,OAAO,KAAK;AAAA,CAAI,GAElC;AAAA,IACR;AAAA,IACO,aAAa,WAAoC;AACvD,UAAM,gBAAgB,KAAK,eAAe,QAAQ,GAC5C,SAAmB,CAAC;AAC1B,oBAAO,KAAK,GAAG,UAAU,IAAI,QAAQ,CAAC,GACtC,cAAc,YAAY,OAAO,KAAK;AAAA,CAAI,GAEnC;AAAA,IACR;AAAA,EACD;AAiEA,SAAO;AAAA,IACN;AAAA,IACA,UAlEgB,MAAe;AAAA,MAC/B,aAAwB;AAAA,QACvB,WAAW,CAAC;AAAA,QACZ,SAAS,CAAC;AAAA,QACV,WAAW,CAAC;AAAA,QACZ,SAAS,CAAC;AAAA,MACX;AAAA,MAEO,KAAK,WAAsB,UAA0B;AAC3D,gBAAO,WAAW;AAAA,UACjB,6BAAuB;AACtB,iBAAK,WAAW,UAAU,KAAK,QAAQ;AAAG;AAAA,UAC3C;AAAA,UAIA,6BAAuB;AACtB,iBAAK,WAAW,UAAU,KAAK,QAAQ;AAAG;AAAA,UAC3C;AAAA,UACA,2BAAqB;AACpB,iBAAK,WAAW,QAAQ,KAAK,QAAQ;AAAG;AAAA,UACzC;AAAA,UACA,SAAS;AACR,oBAAQ,KAAK,4BAA4B,YAAY;AAAG;AAAA,UACzD;AAAA,QACD;AAAA,MACD;AAAA,MACO,SAAe;AACrB,YAAM,SAAS,MAAY;AAC1B,cAAM,WAAW,IAAI,iBAAiB,MAAM;AAC3C,gBAAG,SAAS,MAAM;AACjB,kBAAM,QAAQ,IAAI,MAAM,SAAS,IAAI;AAGrC,mBAAK,WAAW,UAAU,QAAQ,UAAO,KAAK,KAAK,CAAC,GACpD,SAAS,WAAW,GACpB,OAAO;AAAA;AAAA,UAET,CAAC;AACD,mBAAS,QAAQ,UAAU;AAAA,YAC1B,WAAW;AAAA,YACX,SAAS;AAAA,UACV,CAAC;AAAA,QACF,GACM,SAAS,MAAY;AAC1B,cAAM,WAAW,IAAI,iBAAiB,MAAM;AAC3C,gBAAG,SAAS,MAAM;AACjB,kBAAM,QAAQ,IAAI,MAAM,SAAS,IAAI;AAErC,uBAAS,iBAAiB,oBAAoB,MAAK,KAAK,WAAW,QAAQ,QAAQ,UAAO,KAAK,KAAK,CAAC,CAAC,GACtG,KAAK,WAAW,UAAU,QAAQ,UAAO,KAAK,KAAK,CAAC,GACpD,SAAS,WAAW;AAAA;AAAA,UAEtB,CAAC;AACD,mBAAS,QAAQ,UAAU;AAAA,YAC1B,WAAW;AAAA,YACX,SAAS;AAAA,UACV,CAAC;AAAA,QACF;AAEA,eAAO,OAAO;AAAA,MACf;AAAA,IACD;AAAA,EAKA;AACD,GAAG;AAEH,WAAW,WAAW,QAAQ;AAC9B,WAAW,SAAS,IAAI,WAAW,SAAS;",
  "names": []
}
